webpackJsonp([15],{ng8l:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container form02"},[a("el-form",{ref:"form02",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,rules:e.rules,"label-width":e.labelWidth,inline:!1,model:e.form2}},[a("el-form-item",{attrs:{label:"登录账号",prop:"admin_name"}},[a("el-input",{attrs:{placeholder:"登录账号"},model:{value:e.form2.admin_name,callback:function(t){e.$set(e.form2,"admin_name",t)},expression:"form2.admin_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生成密码"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.passWord()}}},[e._v("点击")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"登录密码",prop:"admin_password"}},[a("el-input",{attrs:{placeholder:"登录密码"},model:{value:e.form2.admin_password,callback:function(t){e.$set(e.form2,"admin_password",t)},expression:"form2.admin_password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"admin_names"}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.form2.admin_names,callback:function(t){e.$set(e.form2,"admin_names",t)},expression:"form2.admin_names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属父类",prop:"admin_fid"}},[a("el-select",{attrs:{placeholder:"请选择总监账号"},on:{change:function(t){e.directorGet(e.director_info.admin_name)}},model:{value:e.director_info.admin_name,callback:function(t){e.$set(e.director_info,"admin_name",t)},expression:"director_info.admin_name"}},e._l(e.director_info,function(e){return a("el-option",{key:e.admin_id,attrs:{lable:e.admin_name,value:e.admin_name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"选择部门",prop:"depart_id"}},[a("el-select",{attrs:{placeholder:"请选择部门"},on:{change:function(t){e.departGet(e.depart_info.depart_name)}},model:{value:e.depart_info.depart_name,callback:function(t){e.$set(e.depart_info,"depart_name",t)},expression:"depart_info.depart_name"}},e._l(e.depart_info,function(e){return a("el-option",{key:e.id,attrs:{lable:e.depart_name,value:e.depart_name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"选择分组",prop:"group_id"}},[a("el-select",{attrs:{placeholder:"请选择分组"},on:{change:function(t){e.userGet(e.user_info.title)}},model:{value:e.user_info.title,callback:function(t){e.$set(e.user_info,"title",t)},expression:"user_info.title"}},e._l(e.user_info,function(e){return a("el-option",{key:e.id,attrs:{lable:e.title,value:e.title}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form2")}}},[e._v("立即创建")])],1)],1)],1)])},staticRenderFns:[]};t.a=i},sokN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(a("woOf")),n=r(a("qzrg"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"searchinput",data:function(){return{form2:{admin_name:"",admin_password:"",admin_names:"",depart_id:"",group_id:"",admin_fid:""},depart_info:[],user_info:[],director_info:[],labelPosition:"right",labelWidth:"80px",rules:{admin_name:[{required:!0,message:"请输入登录账号",trigger:"blur"}],admin_password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,max:12,message:"长度在 3 到 5 个字符",trigger:"blur"}],admin_names:[{required:!0,message:"请填写姓名",trigger:"change"}],group_id:[{required:!0,message:"请选择所属分组",trigger:"change"}]}}},mounted:function(){this.departList(),this.userList(),this.directorList()},methods:{departList:function(){var e=this;n.default.msgApi.departList().then(function(t){if(t&&t.data){var a=t.data;a&&200==t.status&&(e.depart_info=a)}}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"}),console.log(t)})},departGet:function(e){var t=this;console.log(e),this.depart_info.map(function(a,i){a.depart_name===e&&(t.id=t.depart_info[i].id,console.log(t.id),t.form2.depart_id=t.id)})},directorList:function(){var e=this;n.default.msgApi.directorList().then(function(t){t&&t.data&&(t.data&&200==t.status&&(e.director_info=t.data))}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"}),console.log(t)})},directorGet:function(e){var t=this;console.log(e),this.director_info.map(function(a,i){a.admin_name===e&&(t.admin_id=t.director_info[i].admin_id,console.log(t.admin_id),t.form2.admin_fid=t.admin_id)})},userList:function(){var e=this;n.default.msgApi.userList().then(function(t){(console.log(t),t&&t.data)&&(t.data&&200==t.status&&(e.user_info=t.data))}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"}),console.log(t)})},userGet:function(e){var t=this;console.log(e),this.user_info.map(function(a,i){a.title===e&&(t.id=t.user_info[i].id,console.log(t.id),t.form2.group_id=t.id)})},passWord:function(){var e=this;n.default.msgApi.passWord().then(function(t){if(console.log(t),t&&t.data){if(t&&200==t.status)return e.$message({message:"执行成功",type:"success"}),e.form2.admin_password=t.data,void(e.dialogEdittVisible=!1)}}).catch(function(t){e.$message({message:"执行失败，请重试",type:"error"}),console.log(t)})},submitForm:function(e){var t=this;this.$refs.form02.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=(0,i.default)({},t.form2);n.default.msgApi.accountAdd(a).then(function(e){if(console.log(e),e&&e.data){var a=e.data;if(a&&"ok"==a.msg)return t.$message({message:"执行成功",type:"success"}),t.$router.push({path:"/account_list"}),void(t.dialogEdittVisible=!1)}t.$message({message:"执行失败，请重试",type:"error"})}).catch(function(e){t.$message({message:"执行失败，请重试",type:"error"}),console.log(e)})})}}}},te7m:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("sokN"),n=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var o=a("ng8l");var s=function(e){a("vkWg")},l=a("VU/8")(n.a,o.a,!1,s,null,null);t.default=l.exports},vkWg:function(e,t){}});